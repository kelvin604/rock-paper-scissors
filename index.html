<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
    <script>
        function computerPlay() {
            let i = Math.floor(Math.random() * 3);
            switch (i)
            {
                case 0: 
                    return "rock"
                    break;

                case 1:
                    return "paper"
                    break;

                default:
                    return "scissors"
                    
            }
        }

        let compScore = 0;
        let usrScore = 0;
        let ties = 0;
        let rounds = 0;

        function playRound(playerSelection, computerSelection) {
            if (playerSelection === "rock" && computerSelection === "scissors" || playerSelection === "paper" && computerSelection === "rock" || playerSelection === "scissors" && computerSelection === "paper")
            {
                usrScore += 1;
                if(compScore == 5){
                    results.textContent = `Computer wins the game ${playerSelection} beats ${computerSelection} USER ${usrScore} COMP ${compScore}`;
                    compScore = 0;
                    usrScore = 0;
                    ties = 0;
                    rounds = 0;
                    return
            }
                if(usrScore == 5){
                    results.textContent = `You win the game ${playerSelection} beats ${computerSelection} USER ${usrScore} COMP ${compScore}`;
                    compScore = 0;
                    usrScore = 0;
                    ties = 0;
                    rounds = 0;
                    return
                }
                results.textContent = `You win! ${playerSelection} beats ${computerSelection} USER ${usrScore} COMP ${compScore}`;    
            }

            if (playerSelection === computerSelection)
            {
                ties += 1;
                results.textContent = `Tie! ${playerSelection} vs ${computerSelection} USER ${usrScore} COMP ${compScore}`;    
            }
            if(playerSelection == "rock" && computerSelection == "paper" || playerSelection == "paper" && computerSelection == "scissors" || playerSelection == "scissors" && computerSelection == "rock")
            {
                compScore += 1;
                if(compScore == 5){
                    results.textContent = `Computer wins the game ${playerSelection} beats ${computerSelection} USER ${usrScore} COMP ${compScore}`;
                    compScore = 0;
                    usrScore = 0;
                    ties = 0;
                    rounds = 0;
                    return
                }
                if(usrScore == 5){
                    results.textContent = `You win the game ${playerSelection} beats ${computerSelection} USER ${usrScore} COMP ${compScore}`;
                    compScore = 0;
                    usrScore = 0;
                    ties = 0;
                    rounds = 0;
                    return
                }
                results.textContent = `You Lose! ${computerSelection} beats ${playerSelection} USER ${usrScore} COMP ${compScore}`; 
            }    
        }
    </script>

</head>
<body>
<button value="rock">rock</button>
<button value="paper">paper</button>
<button value="scissors">scissors</button>
<div class="results"></div>
</body>
<script>
    const buttons = document.querySelectorAll('button');
    buttons.forEach((button) => {
        button.addEventListener('click', ()=>{
            playRound(button.value, computerPlay());

        });
    });

    const results = document.querySelector('.results');
</script>
</html>
